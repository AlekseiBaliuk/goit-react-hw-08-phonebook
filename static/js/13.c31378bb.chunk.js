"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[13],{13:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee}});var a,r,i=t(6377),s=t(885),o=t(2791),l=t(6747),x=t(4004),d=t(6151),c=t(5218),p=t(3329),u=function(e){var n=e.name,t=void 0===n?"":n,a=e.number,r=void 0===a?"":a,i=e.btnText,u=e.onSubmit,m=(0,o.useState)(t),h=(0,s.Z)(m,2),f=h[0],b=h[1],Z=(0,o.useState)(r),g=(0,s.Z)(Z,2),j=g[0],w=g[1],v=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":b(a);break;case"number":w(a);break;default:return}};return(0,p.jsxs)(l.Z,{component:"form",sx:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"360px",width:"100%",p:"10px"},autoComplete:"off",required:!0,error:"true",validate:"true",onSubmit:function(e){e.preventDefault();var n=e.target,t=n.elements.name.value.trim(),a=n.elements.number.value.trim();if(""===t||""===a)return c.ZP.error("Fill all fields");u({name:t,number:a}),b(""),w(""),n.reset()},children:[(0,p.jsx)(x.Z,{label:"Name",name:"name",type:"text",size:"small",onChange:v,value:f,sx:{width:"100%"},inputProps:{pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"},required:!0}),(0,p.jsx)(x.Z,{label:"Number",name:"number",type:"tel",size:"small",onChange:v,value:j,sx:{width:"100%"},inputProps:{pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"},required:!0}),(0,p.jsx)(d.Z,{sx:{width:"120px",mx:"auto"},type:"submit",variant:"outlined",size:"small",children:i})]})},m=function(e){var n=e.handleClose,t=(0,i.Tn)(),a=(0,s.Z)(t,1)[0],r=(0,i.Jx)().data;return(0,p.jsx)(u,{onSubmit:function(e){if(r.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()})))return alert("".concat(e.name," is already in contacts."));a(e),c.ZP.success("You add new contact."),n()},btnText:"Add contact"})},h=t(5048),f=function(e){return e.filter},b=t(168),Z=t(6088),g=Z.Z.li(a||(a=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%),\n    0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n  transition: box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n\n  &:hover {\n    box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\n      0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\n  }\n\n  @media (min-width: 480px) {\n    width: 100%;\n  }\n"]))),j=Z.Z.p(r||(r=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n"]))),w=t(7247),v=t(1286),C=t(3400),y=t(5126),k=t(501),z=t(1413),A=t(5861),S=t(4687),L=t.n(S),P=t(9823),T=function(e){var n=e.handleClose,t=e.id,a=(0,i.wv)(),r=(0,s.Z)(a,1)[0],o=(0,i.Jx)().data,x=o.filter((function(e){return e.id===t})),m=o.map((function(e){return e.name.toLowerCase()})),h=function(){var e=(0,A.Z)(L().mark((function e(a){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.includes(a.name.toLowerCase())){e.next=4;break}return n(),c.ZP.error("".concat(a.name," is already in contacts.")),e.abrupt("return");case 4:return e.prev=4,e.next=7,r((0,z.Z)({id:t},a));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0);case 12:n();case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)(l.Z,{children:[(0,p.jsx)(u,{name:x[0].name,number:x[0].number,onSubmit:h,btnText:"Save"}),(0,p.jsx)(d.Z,{sx:{position:"absolute",top:"5px",right:"5px",p:"0",minWidth:"0"},onClick:n,children:(0,p.jsx)(P.Z,{fontSize:"small"})})]})},F=t(2739),J=t(1993),N=t(2003),O=t(5193);function W(e){var n=e.children,t=e.handleClose,a=e.open,r=(0,O.Z)("(max-width:480px)"),i={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"".concat(r?"85%":"400px"),bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(J.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:a,onClose:t,closeAfterTransition:!0,BackdropComponent:F.Z,BackdropProps:{timeout:500},children:(0,p.jsx)(N.Z,{in:a,children:(0,p.jsx)(l.Z,{sx:i,children:n})})})})}var D,I,_,q,B,M=t(9153),E=t(5546),Y=function(e){var n=e.name,t=e.number,a=e.id,r=(0,i.Nt)(),x=(0,s.Z)(r,2),d=x[0],c=x[1].isLoading,u=(0,o.useContext)(M.t),m=u.open,h=u.handleOpen,f=u.handleClose;return(0,p.jsxs)(g,{children:[(0,p.jsx)(E.ZP,{name:n,size:"35px",round:!0}),(0,p.jsxs)(l.Z,{sx:{textAlign:"start",marginLeft:"5px"},children:[(0,p.jsxs)(j,{children:[(0,p.jsx)(k.Z,{sx:{width:"20px",height:"20px"}}),n]}),(0,p.jsxs)(j,{children:[(0,p.jsx)(y.Z,{sx:{width:"20px",height:"20px"}})," ",t]})]}),(0,p.jsxs)(l.Z,{sx:{display:"flex",gap:"5px",marginLeft:"auto"},children:[(0,p.jsx)(C.Z,{"aria-label":"edit",size:"small",onClick:h,disabled:c,children:(0,p.jsx)(v.Z,{})}),(0,p.jsx)(C.Z,{"aria-label":"delete",size:"small",onClick:function(){return d(a)},disabled:c,children:(0,p.jsx)(w.Z,{})})]}),m&&(0,p.jsx)(W,{open:m,handleClose:f,children:(0,p.jsx)(T,{id:a,handleClose:f})})]})},$=Z.Z.ul(D||(D=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  /* min-width: 350px; */\n  padding: 12px;\n\n  @media (min-width: 480px) {\n    align-items: center;\n  }\n\n  @media (min-width: 768px) {\n    min-width: 350px;\n  }\n"]))),G=(Z.Z.p(I||(I=(0,b.Z)(["\n  text-align: center;\n"]))),Z.Z.p(_||(_=(0,b.Z)(["\n  font-size: 16px;\n  color: #1976d2;\n  font-weight: 600;\n  padding-top: 12px;\n"])))),H=function(){var e=(0,i.Jx)().data,n=(0,h.v9)(f),t=e?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):[];return(0,p.jsx)(p.Fragment,{children:0===(null===e||void 0===e?void 0:e.length)?(0,p.jsx)(G,{children:"No contacts"}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(G,{children:["Total contacts: ",t.length]}),(0,p.jsx)($,{children:t.map((function(e){var n=e.id,t=e.name,a=e.number;return(0,p.jsx)(Y,{id:n,name:t,number:a},n)}))})]})})},K=t(1634),Q=Z.Z.h3(q||(q=(0,b.Z)(["\n  color: #1976d2;\n"]))),R=function(){var e=(0,h.v9)(f),n=(0,h.I0)(),t=(0,O.Z)("(max-width:480px)");return(0,p.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",flexDirection:"column",gap:"10px",maxWidth:"360px",p:"".concat(!t&&"10px")},children:[!t&&(0,p.jsx)(Q,{children:"Find contacts by name"}),(0,p.jsx)(x.Z,{placeholder:"Enter name to find...",name:"text",type:"text",size:"small",value:e,onChange:function(e){n((0,K.T)(e.currentTarget.value))},sx:{width:"100%"}})]})},U=t(992),V=Z.Z.h2(B||(B=(0,b.Z)(["\n  color: #1976d2;\n\n  @media (max-width: 480px) {\n    margin-right: 10px;\n  }\n"]))),X=t(8141),ee=function(){var e=(0,i.Jx)({count:5},{refetchOnMountOrArgChange:!0}),n=e.data,t=e.error,a=e.isFetching,r=(0,o.useContext)(M.t),s=r.open,x=r.handleOpen,u=r.handleClose,h=(0,O.Z)("(max-width:480px)"),f=(0,O.Z)("(min-width:1200px)");return(0,p.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-around",flexDirection:"".concat(h&&"column")},children:[(0,p.jsxs)(l.Z,{sx:{textAlign:"center",padding:"12px"},children:[h&&(0,p.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,p.jsx)(V,{children:"Contacts"}),(0,p.jsx)(R,{}),(0,p.jsx)(d.Z,{onClick:x,children:(0,p.jsx)(X.Z,{})}),s&&(0,p.jsxs)(W,{handleClose:u,open:s,children:[(0,p.jsx)(m,{handleClose:u}),(0,p.jsx)(d.Z,{sx:{position:"absolute",top:"5px",right:"5px",p:"0",minWidth:"0"},onClick:u,children:(0,p.jsx)(P.Z,{fontSize:"small"})})]})]}),n&&(0,p.jsx)(H,{}),a&&!t&&(0,p.jsx)(U.a,{})]}),(0,p.jsxs)(l.Z,{sx:{display:"grid",gap:"40px",textAlign:"center",minWidth:"".concat(f&&"400px")},children:[!h&&(0,p.jsx)(m,{handleClose:u}),!h&&(0,p.jsx)(R,{})]}),(0,p.jsx)(c.x7,{position:"top-right",reverseOrder:!0})]})}}}]);
//# sourceMappingURL=13.c31378bb.chunk.js.map