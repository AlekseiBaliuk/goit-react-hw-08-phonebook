"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[13],{13:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee}});var r,i,a=t(885),s=t(6377),o=t(2791),l=t(6747),x=t(2843),c=t(1724),d=t(6151),u=t(8096),p=t(5218),m=t(3329),h=function(e){var n=e.name,t=void 0===n?"":n,r=e.number,i=void 0===r?"":r,s=e.btnText,h=e.onSubmit,f=(0,o.useState)(t),b=(0,a.Z)(f,2),Z=b[0],j=b[1],g=(0,o.useState)(i),v=(0,a.Z)(g,2),w=v[0],C=v[1],y=(0,o.useState)(null),k=(0,a.Z)(y,2),S=k[0],T=k[1],z=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":j(r);break;case"number":C(r);break;default:return}};return(0,m.jsxs)(l.Z,{component:"form",sx:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"360px",width:"100%",p:"10px"},autoComplete:"off",required:!0,error:"true",validate:"true",onSubmit:function(e){e.preventDefault();var n=e.target,t=n.elements.name.value.trim(),r=n.elements.number.value.trim(),i=c.Ry({name:c.Z_().required(),number:c.Rx().required().positive().integer()});if(""===t||""===r)return p.ZP.error("Fill all fields");var a={name:t,number:r};i.validate({contactToAdd:a}).then((function(){return h(a)})).catch((function(e){return T(e.name)})),j(""),C(""),n.reset()},children:[(0,m.jsx)(u.Z,{children:(0,m.jsx)(x.Z,{label:"Name",name:"name",type:"name",size:"small",onChange:z,value:Z,sx:{width:"100%"},error:S&&Boolean(S),helperText:S&&"Invalid name or number",required:!0})}),(0,m.jsx)(u.Z,{error:!0,children:(0,m.jsx)(x.Z,{label:"Number",name:"number",type:"phone",size:"small",onChange:z,value:w,sx:{width:"100%"},error:S&&Boolean(S),helperText:S&&"Invalid name or number",required:!0})}),(0,m.jsx)(d.Z,{sx:{width:"120px",mx:"auto"},type:"submit",variant:"outlined",size:"small",children:s})]})},f=function(e){var n=e.handleClose,t=(0,s.Tn)(),r=(0,a.Z)(t,1)[0],i=(0,s.Jx)().data;return(0,m.jsx)(h,{onSubmit:function(e){if(i.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()})))return alert("".concat(e.name," is already in contacts."));r(e),p.ZP.success("You add new contact."),n()},btnText:"Add contact"})},b=t(5048),Z=function(e){return e.filter},j=t(168),g=t(6088),v=g.Z.li(r||(r=(0,j.Z)(["\n  display: flex;\n  min-width: 100%;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%),\n    0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n  transition: box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n\n  &:hover {\n    box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\n      0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\n  }\n"]))),w=g.Z.p(i||(i=(0,j.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 5px;\n"]))),C=t(7247),y=t(1286),k=t(3400),S=t(5126),T=t(501),z=t(1413),A=t(5861),L=t(4687),W=t.n(L),q=t(9823),F=function(e){var n=e.handleClose,t=e.id,r=(0,s.wv)(),i=(0,a.Z)(r,1)[0],o=(0,s.Jx)().data,x=o.filter((function(e){return e.id===t})),c=o.map((function(e){return e.name.toLowerCase()})),u=function(){var e=(0,A.Z)(W().mark((function e(r){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.includes(r.name.toLowerCase())){e.next=4;break}return n(),p.ZP.error("".concat(r.name," is already in contacts.")),e.abrupt("return");case 4:return e.prev=4,e.next=7,i((0,z.Z)({id:t},r));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0);case 12:n();case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)(l.Z,{children:[(0,m.jsx)(h,{name:x[0].name,number:x[0].number,onSubmit:u,btnText:"Save"}),(0,m.jsx)(d.Z,{sx:{position:"absolute",top:"5px",right:"5px",p:"0",minWidth:"0"},onClick:n,children:(0,m.jsx)(q.Z,{fontSize:"small"})})]})},I=t(2739),_=t(1993),B=t(2003),D=t(5193);function J(e){var n=e.children,t=e.handleClose,r=e.open,i=(0,D.Z)("(max-width:480px)"),a={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"".concat(i?"85%":"400px"),bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(_.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:r,onClose:t,closeAfterTransition:!0,BackdropComponent:I.Z,BackdropProps:{timeout:500},children:(0,m.jsx)(B.Z,{in:r,children:(0,m.jsx)(l.Z,{sx:a,children:n})})})})}var N,P,O,R,E,M=function(e){var n=e.name,t=e.number,r=e.id,i=(0,s.Nt)(),x=(0,a.Z)(i,2),c=x[0],d=x[1].isLoading,u=(0,o.useState)(!1),p=(0,a.Z)(u,2),h=p[0],f=p[1],b=function(){return f(!1)};return(0,m.jsxs)(v,{children:[(0,m.jsxs)(l.Z,{sx:{textAlign:"start"},children:[(0,m.jsxs)(w,{children:[(0,m.jsx)(T.Z,{sx:{width:"20px",height:"20px"}}),n]}),(0,m.jsxs)(w,{children:[(0,m.jsx)(S.Z,{sx:{width:"20px",height:"20px"}})," ",t]})]}),(0,m.jsxs)(l.Z,{sx:{display:"flex",gap:"5px"},children:[(0,m.jsx)(k.Z,{"aria-label":"edit",size:"small",onClick:function(){return f(!0)},disabled:d,children:(0,m.jsx)(y.Z,{})}),(0,m.jsx)(k.Z,{"aria-label":"delete",size:"small",onClick:function(){return c(r)},disabled:d,children:(0,m.jsx)(C.Z,{})})]}),h&&(0,m.jsx)(J,{open:h,handleClose:b,children:(0,m.jsx)(F,{id:r,handleClose:b})})]})},Y=g.Z.ul(N||(N=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  min-width: 350px;\n  padding: 12px;\n\n  @media (max-width: 480px) {\n    align-items: center;\n  }\n"]))),G=(g.Z.p(P||(P=(0,j.Z)(["\n  text-align: center;\n"]))),g.Z.p(O||(O=(0,j.Z)(["\n  font-size: 16px;\n  color: #1976d2;\n  font-weight: 600;\n"])))),H=function(){var e=(0,s.Jx)().data,n=(0,b.v9)(Z),t=e?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):[];return(0,m.jsx)(m.Fragment,{children:0===(null===e||void 0===e?void 0:e.length)?(0,m.jsx)(G,{children:"No contacts"}):(0,m.jsxs)(Y,{children:[(0,m.jsxs)(G,{children:["Total contacts: ",t.length]}),t.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,m.jsx)(M,{id:n,name:t,number:r},n)}))]})})},K=t(1634),Q=g.Z.h3(R||(R=(0,j.Z)(["\n  color: #1976d2;\n"]))),U=function(){var e=(0,b.v9)(Z),n=(0,b.I0)(),t=(0,D.Z)("(max-width:480px)");return(0,m.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",flexDirection:"column",gap:"10px",maxWidth:"360px",p:"".concat(!t&&"10px")},children:[!t&&(0,m.jsx)(Q,{children:"Find contacts by name"}),(0,m.jsx)(x.Z,{placeholder:"Enter name to find...",name:"text",type:"text",size:"small",value:e,onChange:function(e){n((0,K.T)(e.currentTarget.value))},sx:{width:"100%"}})]})},V=t(992),X=g.Z.h2(E||(E=(0,j.Z)(["\n  color: #1976d2;\n  /* padding: 12px; */\n"]))),$=t(8141),ee=function(){var e=(0,s.Jx)({count:5},{refetchOnMountOrArgChange:!0}),n=e.data,t=e.error,r=e.isFetching,i=(0,D.Z)("(max-width:480px)"),x=(0,o.useState)(!1),c=(0,a.Z)(x,2),u=c[0],h=c[1],b=function(){return h(!1)};return(0,m.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",flexDirection:"".concat(i&&"column")},children:[(0,m.jsxs)(l.Z,{sx:{textAlign:"center",minWidth:"400px",padding:"12px"},children:[i&&(0,m.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,m.jsx)(X,{children:"Contacts"}),(0,m.jsx)(U,{}),(0,m.jsx)(d.Z,{onClick:function(){return h(!0)},children:(0,m.jsx)($.Z,{})}),u&&(0,m.jsxs)(J,{handleClose:b,open:u,children:[(0,m.jsx)(f,{handleClose:b}),(0,m.jsx)(d.Z,{sx:{position:"absolute",top:"5px",right:"5px",p:"0",minWidth:"0"},onClick:b,children:(0,m.jsx)(q.Z,{fontSize:"small"})})]})]}),n&&(0,m.jsx)(H,{}),r&&!t&&(0,m.jsx)(V.a,{})]}),(0,m.jsxs)(l.Z,{sx:{display:"grid",gap:"40px",textAlign:"center",minWidth:"400px"},children:[!i&&(0,m.jsx)(f,{handleClose:b}),!i&&(0,m.jsx)(U,{})]}),(0,m.jsx)(p.x7,{position:"top-right",reverseOrder:!0})]})}}}]);
//# sourceMappingURL=13.f85e4e75.chunk.js.map